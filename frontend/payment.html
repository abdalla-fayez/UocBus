<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <h1>Payment Page</h1>

    <div id="paymentDetails">
        <input type="hidden" id="tripId" value="">
        <input type="hidden" id="seatsBooked" value="">
    </div>

    <button id="payNowButton">Pay Now</button>

    <div id="checkoutContainer"></div>

    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <span id="closeModal" class="close">&times;</span>
            <p id="paymentResultMessage"></p>
        </div>
    </div>

    <!-- Include JavaScript -->
    <script src="./js/payment.js"></script>
    <script src="https://nbe.gateway.mastercard.com/checkout/version/61/checkout.js"
    data-error="errorCallback"
    data-cancel="cancelCallback"></script>

    <script type="text/javascript">
    function errorCallback() {
        console.error('Payment error occurred.');
        window.location.href = `https://172.16.50.207/api/payments/callback/error?orderId=${orderId}`;
    }

    function cancelCallback() {
        console.warn('Payment was cancelled.');
        window.location.href = `https://172.16.50.207/api/payments/callback/cancel?orderId=${orderId}`;
    }
</script>

</body>
</html>
